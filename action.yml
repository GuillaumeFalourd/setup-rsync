name: 'Setup Rsync'
description: 'Github actions to setup Rsync (all os supported) ðŸ”„'

runs:
  using: "composite"
  steps:
    - name:
      run: |
        if [[ $OSTYPE == 'msys'* ]]; then
          echo "windows runner detected"
          echo "wsl install"
          wsl --install -d Ubuntu
          # echo "wsl config"
          # wslconfig /s Ubuntu
          echo "wsl --set-version"
          wsl --set-version Ubuntu
          echo "wsl apt-get"
          wsl apt-get install rsync
          echo "rsync installed on windows runner"
        elif [[ $OSTYPE == 'darwin'* ]]; then 
          echo "macos runner detected"
          brew install rsync
          echo "rsync installed on macos runner"
        else
          echo "ubuntu runner detected"
          sudo apt-get install rsync
          echo "rsync installed on ubuntu runner"
        fi
        rsync --version
      shell: bash